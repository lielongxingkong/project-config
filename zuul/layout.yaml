includes:
  - python-file: openstack_functions.py

pipelines:
  - name: check
    description: Newly uploaded patchsets enter this pipeline to receive an initial +/-1 Verified vote from Jenkins.
    success-message: Build succeeded (check pipeline).
    failure-message: Build failed (check pipeline).  For information on how to proceed, see http://docs.openstack.org/infra/manual/developers.html#automated-testing
    manager: IndependentPipelineManager
    source: gerrit
    precedence: normal
    require:
      open: True
      current-patchset: True
    trigger:
      gerrit:
        - event: patchset-created
        - event: change-restored
        - event: comment-added
          comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck|reverify)
        - event: comment-added
          require-approval:
            - verified: [-1, -2]
              username: jenkins
          approval:
            - workflow: 1
    success:
      gerrit:
        verified: 1
    failure:
      gerrit:
        verified: -1

  - name: gate
    description: Changes that have been approved by core developers are enqueued in order in this pipeline, and if they pass tests in Jenkins, will be merged.
    success-message: Build succeeded (gate pipeline).
    failure-message: Build failed (gate pipeline).  For information on how to proceed, see http://docs.openstack.org/infra/manual/developers.html#automated-testing
    manager: DependentPipelineManager
    source: gerrit
    precedence: high
    require:
      open: True
      current-patchset: True
      approval:
        - verified: [1, 2]
          username: jenkins
        - workflow: 1
    trigger:
      gerrit:
        - event: comment-added
          approval:
            - workflow: 1
        - event: comment-added
          approval:
            - verified: 1
          username: jenkins
    start:
      gerrit:
        verified: 0
    success:
      gerrit:
        verified: 2
        submit: true
    failure:
      gerrit:
        verified: -2
    window-floor: 20
    window-increase-factor: 2

  - name: post
    description: This pipeline runs jobs that operate after each change is merged.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^(?!refs/).*$

  - name: release-post
    description: This pipeline runs release-process-critical jobs that operate after specific changes are merged.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^(?!refs/).*$

  - name: tag
    description: This pipeline runs jobs in response to any tag event.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/.*$

  - name: pre-release
    description: This pipeline runs jobs on projects in response to pre-release tags.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/[0-9]+(\.[0-9]+)*(a|b|rc)[0-9]+$

  - name: release
    description: When a commit is tagged as a release, this pipeline runs jobs that publish archives and documentation.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/[0-9]+(\.[0-9]+)*$

  - name: silent
    description: This pipeline is used for silently testing new jobs.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      gerrit:
        - event: patchset-created
        - event: comment-added
          comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck|reverify)

  - name: experimental
    description: On-demand pipeline for requesting a run against a set of jobs that are not yet gating. Leave review comment of "check experimental" to run jobs in this pipeline.
    success-message: Build succeeded (experimental pipeline).
    failure-message: Build failed (experimental pipeline).
    manager: IndependentPipelineManager
    source: gerrit
    precedence: normal
    trigger:
      gerrit:
        - event: comment-added
          comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*check experimental\s*$
    success:
      gerrit: {}
    failure:
      gerrit: {}

  - name: periodic
    description: Jobs in this queue are triggered on a timer.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      timer:
        - time: '0 6 * * *'

  - name: periodic-stable
    description: Periodic checks of the stable branches.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      timer:
        - time: '1 6 * * *'
    failure:
      smtp:
        from: jenkins@openstack.org
        to: openstack-stable-maint@lists.openstack.org
        subject: 'Stable check of {change.project} failed'

  - name: check-tripleo
    description: >
      Newly uploaded patchsets enter this pipeline to receive an initial +/-1
      Verified vote from Jenkins. This is used for TripleO patchsets only so
      that if the TripleO cloud suffers a failure, folk looking can tell that
      there isn't a system infra problem, only a TripleO specific problem.
      Once the TripleO test cloud is multi region and has some months of
      proven stability this will be folded back into the normal check pipeline.
    success-message: Build succeeded (check-tripleo pipeline).
    failure-message: >
      Build failed (check-tripleo pipeline).  For information on how to proceed, see
      http://docs.openstack.org/infra/manual/developers.html#automated-testing
    manager: IndependentPipelineManager
    source: gerrit
    precedence: normal
    require:
      open: True
      current-patchset: True
    trigger:
      gerrit:
        - event: patchset-created
        - event: change-restored
        - event: comment-added
          comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck|reverify)
    success:
      gerrit: {}
    failure:
      gerrit: {}

  - name: experimental-tripleo
    description: >
      On-demand pipeline for requesting a run against a tripleo experimental
      jobs - slower and running without redundancy - so not yet gating. Leave
      review comment of "check experimental" to run jobs in this pipeline.
    success-message: Build succeeded (experimental-tripleo).
    failure-message: Build failed (experimental-tripleo).
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      gerrit:
        - event: comment-added
          comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*check experimental\s*$
    success:
      gerrit: {}
    failure:
      gerrit: {}

  - name: merge-check
    description: >
      Each time a change merges, this pipeline verifies that all open changes
      on the same project are still mergeable.
    failure-message: Build failed (merge-check pipeline).
    manager: IndependentPipelineManager
    ignore-dependencies: true
    source: gerrit
    precedence: low
    require:
      approval:
        - verified: [1, 2]
          username: jenkins
    trigger:
      zuul:
        - event: project-change-merged
    merge-failure:
      gerrit:
        verified: -1


project-templates:
  - name: merge-check
    merge-check:
      - noop

  - name: ansible-role-jobs
    check:
      - 'gate-{name}-docs'
      - 'gate-{name}-linters'
    gate:
      - 'gate-{name}-docs'
      - 'gate-{name}-linters'

  - name: ansible-role-functional-jobs-centos7
    check:
      - 'gate-{name}-dsvm-ansible-functional-centos7'
    gate:
      - 'gate-{name}-dsvm-ansible-functional-centos7'

  - name: ansible-role-functional-jobs-centos7-nv
    check:
        - 'gate-{name}-dsvm-ansible-functional-centos7-nv'

  - name: ansible-role-functional-jobs-trusty
    check:
      - 'gate-{name}-dsvm-ansible-functional-trusty'
    gate:
      - 'gate-{name}-dsvm-ansible-functional-trusty'

  - name: ansible-role-functional-jobs-trusty-nv
    check:
      - 'gate-{name}-dsvm-ansible-functional-trusty-nv'

  - name: bindep-fallback
    experimental:
      - gate-bindep-fallback-devstack-centos7
      - gate-bindep-fallback-fedora-23
      - gate-bindep-fallback-ubuntu-trusty

  - name: python-jobs
    check:
      - 'gate-{name}-pep8'
      - 'gate-{name}-docs'
      - 'gate-{name}-python27'
    gate:
      - 'gate-{name}-docs'
      - 'gate-{name}-pep8'
      - 'gate-{name}-python27'
    post:
      - '{name}-branch-tarball'

  - name: python-constraints-jobs
    check:
      - 'gate-{name}-pep8-constraints'
      - 'gate-{name}-docs-constraints'
      - 'gate-{name}-python27-constraints'
    gate:
      - 'gate-{name}-docs-constraints'
      - 'gate-{name}-pep8-constraints'
      - 'gate-{name}-python27-constraints'

  - name: periodic-jobs-with-oslo-master
    periodic:
      - 'periodic-{name}-py27-with-oslo-master'
      - 'periodic-{name}-py34-with-oslo-master'
    experimental:
      - 'periodic-{name}-py27-with-oslo-master'
      - 'periodic-{name}-py34-with-oslo-master'

  # This is the same template as python-jobs but uses the new
  # linters target instead of pep8.
  - name: python-jobs-linters
    check:
      - 'gate-{name}-docs'
      - 'gate-{name}-linters'
      - 'gate-{name}-python27'
    gate:
      - 'gate-{name}-docs'
      - 'gate-{name}-linters'
      - 'gate-{name}-python27'
    post:
      - '{name}-branch-tarball'

  - name: grenade
    check:
      - 'gate-grenade-dsvm'
    gate:
      - 'gate-grenade-dsvm'
    experimental:
      - 'gate-grenade-dsvm-neutron'

  - name: integrated-gate
    check:
      - 'gate-tempest-dsvm-full'
      - 'gate-tempest-dsvm-postgres-full'
      - 'gate-tempest-dsvm-neutron-full'
    gate:
      - 'gate-tempest-dsvm-full'
      - 'gate-tempest-dsvm-postgres-full'
      - 'gate-tempest-dsvm-neutron-full'
    experimental:
      - 'experimental-tempest-dsvm-full-dibtest'
      - 'experimental-tempest-dsvm-neutron-full-dibtest'
      - 'experimental-tempest-dsvm-multinode-full-dibtest'

  - name: integrated-gate-neutron
    check:
      - 'gate-tempest-dsvm-neutron-full'
      - 'gate-grenade-dsvm-neutron'
    gate:
      - 'gate-tempest-dsvm-neutron-full'
      - 'gate-grenade-dsvm-neutron'
    experimental:
      - 'gate-tempest-dsvm-neutron-pg-full'

  - name: lib-forward-testing
    check:
      - 'gate-tempest-dsvm-neutron-src-{name}'
    gate:
      - 'gate-tempest-dsvm-neutron-src-{name}'

  - name: stable-compat-jobs
    check:
      - 'gate-tempest-dsvm-neutron-src-{name}-liberty'

  - name: lib-forward-testing-plugin
    check:
      - 'gate-tempest-dsvm-neutron-src-{name}-plugin'
    gate:
      - 'gate-tempest-dsvm-neutron-src-{name}-plugin'

  - name: python3-jobs
    check:
      - 'gate-{name}-python34'
    gate:
      - 'gate-{name}-python34'

  - name: python3-constraints-jobs
    check:
      - 'gate-{name}-python34-constraints'
    gate:
      - 'gate-{name}-python34-constraints'

  - name: osc-plugin-jobs
    check:
      - 'check-osc-plugins'

  - name: pypy-jobs
    check:
      - 'gate-{name}-pypy'
    # gate-.*-pypy is non-voting, therefore not added to any gate.
    # Readd it once the job is voting again.
    # gate:
    #  - 'gate-{name}-pypy'

  - name: pypy-constraints-jobs
    check:
      - 'gate-{name}-pypy-constraints'
    gate:
      - 'gate-{name}-pypy-constraints'

  - name: openstack-server-publish-jobs
    post:
      - '{name}-docs'
    release:
      - '{name}-docs'

  - name: openstack-client-publish-jobs
    release:
      - '{name}-docs'

  # This job needs to run on all repositories that are part of the
  # global requirements syncing which is setup in the requirements
  # repository. If a repository is in requirements/projects.txt, it
  # has to run these jobs as voting as specified in
  # http://docs.openstack.org/developer/requirements/#enforcement-in-projects
  - name: check-requirements
    check:
      - 'gate-{name}-requirements'
    gate:
      - 'gate-{name}-requirements'

  - name: periodic-kilo
    periodic-stable:
      - 'periodic-{name}-docs-kilo'
      - 'periodic-{name}-python27-kilo'

  - name: periodic-liberty
    periodic-stable:
      - 'periodic-{name}-docs-liberty'
      - 'periodic-{name}-python27-liberty'

  - name: periodic-liberty-constraints
    periodic-stable:
      - 'periodic-{name}-docs-constraints-liberty'
      - 'periodic-{name}-python27-constraints-liberty'


  # Used for building documentation projects that contain
  # DocBook XML and RST files.
  - name: openstack-doc-gate
    check:
      - gate-{name}-tox-checklinks
      - gate-{name}-tox-checkniceness
      - gate-{name}-tox-checksyntax
      - gate-{name}-tox-checkdeletions
      - gate-{name}-tox-doc-publish-checkbuild
    gate:
      - gate-{name}-tox-checkniceness
      - gate-{name}-tox-checksyntax
      - gate-{name}-tox-checkdeletions
      - gate-{name}-tox-doc-publish-checkbuild

  # Used for building documentation projects that contain
  # only RST files.
  - name: openstack-doc-rst-gate
    check:
      - gate-{name}-tox-checkniceness
      - gate-{name}-tox-doc-publish-checkbuild
    gate:
      - gate-{name}-tox-checkniceness
      - gate-{name}-tox-doc-publish-checkbuild

  - name: openstack-doc-translation
    check:
      - 'gate-{name}-tox-checklang'
    gate:
      - 'gate-{name}-tox-checklang'
    post:
      - '{name}-upstream-translation-update'
      - '{name}-tox-doc-publishlang'
    periodic:
      - '{name}-propose-translation-update'

  - name: translation-jobs
    post:
      - '{name}-upstream-translation-update'
    periodic:
      - '{name}-propose-translation-update'

  - name: translation-jobs-liberty
    periodic:
      - '{name}-propose-translation-update-liberty'

  - name: infra-publish-jobs
    check:
      - 'gate-{name}-docs'
    gate:
      - 'gate-{name}-docs'
    post:
      - '{name}-infra-docs'

  # Publish pre-releases as wheels and official releases as sdist and
  # wheels, then sync to all of the appropriate mirrors.
  - name: publish-to-pypi
    pre-release:
      - '{name}-tarball':
          - '{name}-pypi-wheel-upload'
    release:
      - '{name}-tarball':
        - '{name}-pypi-both-upload':
            - wheel-build-ubuntu-trusty-amd64:
              - wheel-release-trustyx64
            - '{name}-announce-release'

  # Release OpenStack Server packages.
  - name: openstack-server-release-jobs
    pre-release:
      - '{name}-tarball'
    release:
      - '{name}-tarball':
        - '{name}-announce-release'
      - '{name}-merge-release-tags'

  - name: release-notes-jobs
    check:
      - 'gate-{name}-releasenotes'
    gate:
      - 'gate-{name}-releasenotes'
    post:
      - '{name}-releasenotes'
    tag:
      - '{name}-releasenotes'

  - name: docs-on-rtfd
    post:
      - 'hook-{name}-rtfd'
    pre-release:
      - 'hook-{name}-rtfd'
    release:
      - 'hook-{name}-rtfd'

  - name: chef-rake-jobs
    check:
      - 'gate-{name}-chef-rake'
      - 'gate-{name}-chef-rake-integration-nv'
    gate:
      - 'gate-{name}-chef-rake'

  # Note that we only publish specs by official
  # teams on specs.o.o - the publish-specs job should not
  # be used for projects not mentioned in governance repository.
  # build-only-specs-jobs instead.
  - name: openstack-specs-jobs
    check:
      - 'gate-{name}-docs'
    gate:
      - 'gate-{name}-docs'
    post:
      - '{name}-publish-specs'


  # Same job as openstack-specs-job but does not publish to
  # specs.openstack.org.
  - name: build-only-specs-jobs
    check:
      - 'gate-{name}-docs'
    gate:
      - 'gate-{name}-docs'

  - name: noop-jobs
    check:
      - noop
    gate:
      - noop

  - name: ansible-lint-jobs
    check:
      - gate-{name}-ansible-lint
    gate:
      - gate-{name}-ansible-lint

  - name: packstack-integration-jobs
    check:
      - gate-packstack-integration-scenario001-tempest-dsvm-centos7
      - gate-packstack-integration-scenario002-tempest-dsvm-centos7

  - name: puppet-beaker-jobs
    check:
      - gate-{name}-puppet-beaker-rspec-dsvm-trusty
      - gate-{name}-puppet-beaker-rspec-dsvm-centos7
    gate:
      - gate-{name}-puppet-beaker-rspec-dsvm-trusty
      - gate-{name}-puppet-beaker-rspec-dsvm-centos7

  - name: puppet-beaker-jobs-nv
    check:
      - gate-{name}-puppet-beaker-rspec-dsvm-trusty-nv
      - gate-{name}-puppet-beaker-rspec-dsvm-centos7-nv

  - name: puppet-openstack-integration-jobs
    check:
      - gate-puppet-openstack-integration-scenario001-tempest-dsvm-trusty
      - gate-puppet-openstack-integration-scenario001-tempest-dsvm-centos7
      - gate-puppet-openstack-integration-scenario002-tempest-dsvm-trusty
      - gate-puppet-openstack-integration-scenario002-tempest-dsvm-centos7
    gate:
      - gate-puppet-openstack-integration-scenario001-tempest-dsvm-trusty
      - gate-puppet-openstack-integration-scenario001-tempest-dsvm-centos7
      - gate-puppet-openstack-integration-scenario002-tempest-dsvm-trusty
      - gate-puppet-openstack-integration-scenario002-tempest-dsvm-centos7

  - name: puppet-openstack-spec-helper-jobs
    check:
      - gate-puppet-openstack-spec-helper-unit-dsvm-centos7
      - gate-puppet-openstack-spec-helper-beaker-rspec-dsvm-centos7
    gate:
      - gate-puppet-openstack-spec-helper-unit-dsvm-centos7
      - gate-puppet-openstack-spec-helper-beaker-rspec-dsvm-centos7

  - name: puppet-syntax
    check:
      - gate-{name}-puppet-syntax-3-dsvm-centos7
      - gate-{name}-puppet-syntax-4-dsvm-centos7
    gate:
      - gate-{name}-puppet-syntax-3-dsvm-centos7
      - gate-{name}-puppet-syntax-4-dsvm-centos7

  - name: infra-puppet-check-jobs
    check:
      - gate-{name}-puppet-lint
      - gate-{name}-puppet-syntax
    gate:
      - gate-{name}-puppet-lint
      - gate-{name}-puppet-syntax

  - name: puppet-check-jobs
    check:
      - gate-{name}-puppet-lint
      - gate-{name}-puppet-syntax-3-dsvm-centos7
      - gate-{name}-puppet-syntax-4-dsvm-centos7
    gate:
      - gate-{name}-puppet-lint
      - gate-{name}-puppet-syntax-3-dsvm-centos7
      - gate-{name}-puppet-syntax-4-dsvm-centos7

  - name: puppet-module-unit-jobs
    check:
      - gate-{name}-puppet-unit-3.3-dsvm-centos7
      - gate-{name}-puppet-unit-3.4-dsvm-centos7
      # 3.5 was swiftly replaced with 3.6
      - gate-{name}-puppet-unit-3.6-dsvm-centos7
      - gate-{name}-puppet-unit-3.7-dsvm-centos7
      - gate-{name}-puppet-unit-3.8-dsvm-centos7
      - gate-{name}-puppet-unit-4.0-dsvm-centos7
      - gate-{name}-puppet-unit-latest-dsvm-centos7
    gate:
      - gate-{name}-puppet-unit-3.3-dsvm-centos7
      - gate-{name}-puppet-unit-3.4-dsvm-centos7
      # 3.5 was swiftly replaced with 3.6
      - gate-{name}-puppet-unit-3.6-dsvm-centos7
      - gate-{name}-puppet-unit-3.7-dsvm-centos7
      - gate-{name}-puppet-unit-3.8-dsvm-centos7
      - gate-{name}-puppet-unit-4.0-dsvm-centos7
    experimental:
      - gate-{name}-puppet-unit-dsvm-centos7

  - name: infra-puppet-apply-jobs
    check:
      - gate-infra-puppet-apply-bare-precise
      - gate-infra-puppet-apply-bare-trusty
      - gate-infra-puppet-apply-dsvm-centos7
      - gate-infra-puppet-apply-fedora-23
      - gate-openstackci-beaker-centos7-dsvm
      - gate-openstackci-beaker-trusty-dsvm
    gate:
      - gate-infra-puppet-apply-bare-precise
      - gate-infra-puppet-apply-bare-trusty
      - gate-infra-puppet-apply-dsvm-centos7
      - gate-infra-puppet-apply-fedora-23
      - gate-openstackci-beaker-centos7-dsvm
      - gate-openstackci-beaker-trusty-dsvm

  - name: check-tripleo-jobs
    check-tripleo:
      - gate-tripleo-ci-f22-ceph
      - gate-tripleo-ci-f22-ha
      - gate-tripleo-ci-f22-nonha
      - gate-tripleo-ci-f22-containers

  - name: experimental-bindep-jobs
    experimental:
      - gate-nova-python27-bindep

  - name: experimental-tripleo-jobs
    experimental-tripleo:
      - gate-tripleo-ci-f22-nonha

  - name: salt-formula-jobs
    check:
      - 'gate-{name}-salt-lint'
    gate:
      - 'gate-{name}-salt-lint'

  - name: javascript-jobs
    check:
      - gate-{name}-npm-run-lint
      - gate-{name}-npm-run-test
    gate:
      - gate-{name}-npm-run-lint
      - gate-{name}-npm-run-test

  - name: publish-to-npm
    release:
      - '{name}-npm-publish-tarball':
        - '{name}-npm-upload'

  - name: windmill-jobs-centos7
    check:
      - 'gate-windmill-deploy-centos7'
    gate:
      - 'gate-windmill-deploy-centos7'

  - name: windmill-jobs-centos7-nv
    check:
      - 'gate-windmill-deploy-centos7-nv'

  - name: windmill-jobs-trusty
    check:
      - 'gate-windmill-deploy-trusty'
    gate:
      - 'gate-windmill-deploy-trusty'

  - name: windmill-jobs-trusty-nv
    check:
      - 'gate-windmill-deploy-trusty-nv'


jobs:
  - name: ^.*$
    parameter-function: set_node_options
    swift:
      - name: logs
  # -nv jobs are never voting.
  - name: ^.*-nv$
    voting: false
  # because of global requirements overrides, there is no reason to
  # run tempest/grenade tests after a requirements sync, as they've
  # already been run in the requirements job with the override.
  - name: ^.*(tempest|grenade)-dsvm.*$
    skip-if:
      - project: ^openstack/
        all-files-match-any:
          - ^(test-|)requirements.txt$

  # Skip these long-running and expensive devstack jobs when the
  # change is only to documentation, release notes, unit tests or
  # similar components that won't be exercised by the job anyway.
  - name: ^.*(devstack|tempest|grenade|rally|swift|networking-ovn|neutron-lbaas|neutron-vpnaas|ironic-inspector|heat)-dsvm.*$
    skip-if:
      - project: ^openstack/neutron$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^neutron/locale/.*$
          - ^neutron/tests/.*$
          - ^releasenotes/.*$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/neutron-lbaas$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^neutron-lbaas/tests/unit/.*$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/neutron-vpnaas$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^neutron-vpnaas/tests/unit/.*$
      - project: ^openstack/nova$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^api-guide/.*$
          - ^nova/hacking/.*$
          - ^nova/locale/.*$
          - ^nova/tests/.*$
          - ^releasenotes/.*$
          - ^tests-py3.txt$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/ironic$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^ironic/locale/.*$
          - ^ironic/tests/.*$
          - ^releasenotes/.*$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/ironic-python-agent$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^ironic_python_agent/tests/.*$
          - ^releasenotes/.*$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/ironic-inspector$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^ironic_inspector/test/.*$
          - ^releasenotes/.*$
          - ^tox.ini$
      # In heat, ^tox.ini and some scripts in ^tools/ are used
      # in heat-dsvm-functional gates, so not skipping on those changes
      - project: ^openstack/heat$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^heat/locale/.*$
          - ^heat/tests/.*$
          - ^releasenotes/.*$
      - project: ^openstack/horizon$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^horizon/locale/.*$
          - ^horizon/test/.*$
          - ^openstack_dashboard/locale/.*$
          - ^openstack_dashboard/test/.*$
          - ^openstack_dashboard/.*/tests?\.py$
          - ^releasenotes/.*$
          - ^tools/.*$
          - ^tox.ini$
      - project: ^openstack/tempest$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^etc/.*$
          - ^tempest/tests/.*$
          - ^tempest/hacking/.*$
      - project: ^openstack/tempest-lib$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^tempest_lib/tests/.*$
      - project: ^openstack-dev/devstack$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
      - project: ^openstack-dev/grenade$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
      - project: ^openstack/networking-midonet$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^specs/.*$
          - ^midonet/neutron/tests/.*$
      - project: ^openstack/tap-as-a-service
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^specs/.*$
          - ^neutron_taas/tests/unit/.*$
      - project: ^openstack/monasca-api
        all-files-match-any:
          - ^.*\.md$
      - project: ^openstack/networking-ovn$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^releasenotes/.*$
          - ^tools/.*$
          - ^tox.ini$
          - ^vagrant/.*$

  # Skip non-doc jobs for doc-only or translation-only neutron
  # changes. Since doc/source/conf.py is checked by
  # neutron-(pep8|pylint), those jobs should not be skipped.
  - name: ^.*neutron-(dsvm-api|dsvm-functional|dsvm-functional-py34|python(27|34)|lbaasv[12]-dsvm-(api|minimal)|dsvm-fullstack)(-constraints)?$
    skip-if:
      - project: ^openstack/neutron$
        all-files-match-any:
          - ^neutron/locale/.*$
          - ^.*\.rst$
          - ^doc/.*$
          - ^releasenotes/.*$
  # Skip non-doc jobs for doc-only neutron-lib changes.
  - name: ^.*neutron-lib-python(27|34)(-constraints)?$
    skip-if:
      - project: ^openstack/neutron-lib$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^releasenotes/.*$
  # Skip non-doc jobs for doc-only neutron-vpnaas changes. The dsvm
  # tests area already skipped by another check.
  - name: ^.*neutron-vpnaas-python(27|34)(-constraints)?$
    skip-if:
      - project: ^openstack/neutron-vpnaas$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^releasenotes/.*$
  # Skip all except release notes and pep8 jobs for heat
  - name: ^.*heat-(docs|dsvm-functional-(orig|convg)|python(27|34)).*$
    skip-if:
      - project: ^openstack/heat$
        all-files-match-any:
          - ^heat/locale/.*$
          - ^releasenotes/.*$
  # Skip non-doc jobs for doc-only or translation-only nova changes.
  # Since doc/source/conf.py is checked by nova-(pep8|pylint), those
  # jobs should not be skipped.
  - name: ^.*nova-(tox-functional|python27|python34)(-constraints)?$
    skip-if:
      - project: ^openstack/nova$
        all-files-match-any:
          - ^.*\.rst$
          - ^api-guide/.*$
          - ^doc/.*$
          - ^nova/locale/.*$

  # Skip non-doc jobs for doc-only or translation-only heat changes.
  # Since doc/source/* is checked by heat-pep8, this job should not be
  # skipped.
  - name: ^.*heat-(python27|python34)$
    skip-if:
      - project: ^openstack/heat$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^heat/locale/.*$
  # Skip non-doc jobs for doc-only or translation-only horizon
  # changes. Since doc/source/* is checked by horizon-pep8, this job
  # should not be skipped.
  - name: ^.*horizon-(python27|python34|tox-py27dj.*|npm-run-.*|selenium-headless|dsvm-integration)$
    skip-if:
      - project: ^openstack/horizon$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^horizon/locale/.*$
          - ^openstack_dashboard/locale/.*$
  # Skip non-doc jobs for doc-only ironic changes. Since documents are checked
  # by ironic-pep8 it should not be skipped.
  - name: ^.*ironic-(python27|python34)$
    skip-if:
      - project: ^openstack/ironic$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
  - name: ^.*ironic-inspector-(python27|python34|tox-func)$
    skip-if:
      - project: ^openstack/ironic-inspector$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
  # Skip non-doc jobs for doc-only python-ironicclient changes. Since documents
  # are checked by python-ironicclient-pep8 it should not be skipped.
  - name: ^gate-(python-ironicclient-(python27|python34|pypy)|ironicclient-dsvm-functional|tempest-dsvm-python-ironicclient-src)$
    skip-if:
      - project: ^openstack/python-ironicclient$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^releasenotes/.*$
  # Skip non-doc jobs for doc-only bifrost changes. Since documents
  # are checked by bifrost-pep8, that job should not be skipped.
  - name: ^.*bifrost-(python27|integration-coreosipa-cirros|integration-dibipa-debian-nv)$
    skip-if:
      - project: ^openstack/bifrost$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
  # Skip non-doc jobs for doc-only networking-midonet changes.  Since
  # doc/source/conf.py is checked by networking-midonet-pep8, that job
  # should not be skipped.
  - name: ^.*networking-midonet-(python27|python34)$
    skip-if:
      - project: ^openstack/networking-midonet$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$

  # skip expensive dib jobs for docs changes; readme's are rst files,
  # and doc/*
  - name: ^.*dib-dsvm-functests-.*$
    skip-if:
      - project: ^openstack/diskimage-builder$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
  - name: ^.*diskimage-builder-(python27|python34)$
    skip-if:
      - project: ^openstack/diskimage-builder$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
  - name: ^.*tempest-dsvm-ironic-pxe_ssh-dib$
    skip-if:
      - project: ^openstack/diskimage-builder$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$

  # Do not run the documentation publishing jobs ({name}-docs) from
  # "bug/" branches. The (?!gate-) prefix is used in the regex because
  # we *do* want the gate docs jobs to run, just not the jobs in the
  # post queue.
  - name: ^(?!gate-).*-docs$
    branch: ^(?!bug/).*$

  - name: propose-openstack-manuals-updates
    branch: master

  # First implementation of packstack integration jobs should be non-voting
  # and only on the master branch
  - name: ^gate-packstack-integration-scenario00(1|2)-tempest-dsvm-centos7$
    voting: false
    branch: master

  - name: ^gate-puppet-openstackci-puppet-beaker-rspec-dsvm-.*$
    voting: false

  # puppet-integration scenario jobs non-voting and run after stable/kilo
  - name: ^gate-puppet-openstack-integration-scenario00(1|2)-tempest-dsvm-.*$
    branch: ^(?!stable/kilo).*$

  # puppet-integration lint/syntax jobs run only after stable/kilo
  - name: ^gate-puppet-openstack-integration-puppet-.*$
    branch: ^(?!stable/kilo).*$

  - name: gate-requirements-integration-dsvm-resolver
    voting: false

  - name: gate-requirements-tox-validate
    branch: ^(?!stable/kilo).*$

  - name: gate-tempest-dsvm-full
    queue-name: integrated

  - name: ^.*rally-dsvm-(?!cli).*$
    skip-if:
      - project: ^openstack/rally
        all-files-match-any:
          - ^doc/.*$
          - ^etc/.*$
          - ^samples/.*$
          - ^tests/hacking/.*$
          - ^tests/unit/.*$
          - ^tox.ini$
          - ^.*\.rst$
          - ^Dockerfile$

  - name: ^gate-rally-dsvm-rally-.*$
    voting: false

  - name: gate-rally-dsvm-neutron-neutron
    voting: false

  - name: gate-rally-dsvm-neutron-unstable
    voting: false

  - name: gate-rally-dsvm-fakevirt-heat
    voting: false

  - name: gate-rally-tox-self
    voting: false

  - name: gate-rally-dsvm-designate-designate
    voting: false

  - name: gate-rally-dsvm-verify-full
    files:
      - ^rally/cli/commands/verify.py$
      - ^rally/common/io/subunit_v2.py$
      - ^rally/ui/templates/verification.*$
      - ^rally/verification.*$
      - ^tests/ci/.*verify.*$

  - name: gate-rally-dsvm-zaqar-zaqar
    voting: false

  - name: gate-kolla-python34
    voting: false

  - name: gate-zaqar-tox-integration
    voting: false

  - name: gate-tempest-dsvm-neutron-nv
    branch: ^feature/pecan

  - name: gate-heat-dsvm-functional-orig-postgres
    voting: false

  # NOTE(tonyb) (heat) functional testing was introduced in the liberty
  # cycle so testing the kilo branch doesn't make sense.
  - name: gate-heatclient-dsvm-functional
    branch: ^(?!stable/kilo).*$

  - name: gate-heat-dsvm-functional-convg-mysql
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: gate-tempest-dsvm-heat
    branch: ^(stable/(kilo|liberty)).*$

  - name: gate-tempest-dsvm-heat-apache
    branch: ^(?!stable/(kilo|liberty)).*$

    # NOTE(sambetts) Make requirements check non-voting for networking-cisco
    # until cisco requirements are in global requirements.
  - name: gate-networking-cisco-requirements
    voting: false

  - name: gate-neutron-dsvm-functional-py34
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

    # BUG #1290562 pypy does not work with new setuptools, so is breaking
    # all jobs. Disable until there is resolution.
  - name: ^gate-.*-pypy$
    voting: false

    # This job is only for testing master of the project
    # against master of all oslo projects
  - name: ^periodic-.*-with-oslo-master$
    voting: false

  - name: ^gate-tempest-dsvm-cells$
    branch: ^(?!stable/(kilo)).*$

    # don't run any grenade jobs on the oldest supported stable
    # branch, this lets us catch all jobs that don't otherwise have
    # additional modifications.
  - name: ^gate-grenade-dsvm
    branch: ^(?!stable/kilo).*$

    # this is a deprecated way of testing, multinode grenade should be
    # used to test this from mitaka forward.
    #
    # NOTE(sdague) when you remove the kilo branch, remove this line
    # as well.
  - name: ^gate-grenade-dsvm-partial-ncpu$
    branch: ^stable/liberty$

  - name: ^gate-grenade-dsvm-multinode
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: ^gate-tempest-dsvm-ironic-parallel-nv$
    branch: ^(?!stable)

  - name: ^gate-tempest-dsvm-ironic-pxe_ipa-tinyipa-nv$
    branch: ^(?!stable/(kilo|liberty)).*$

    # only here until stable is votable, then merge
    # back to a single job
  - name: ^gate-grenade-dsvm-forward$
    branch: ^(stable/).*$
    voting: false

  - name: ^gate-grenade-dsvm-neutron-forward
    branch: ^(stable/).*$
    voting: false

  - name: gate-devstack-dsvm-updown
    branch: ^(?!stable)

  - name: gate-tempest-dsvm-neutron-identity-v3-only-full
    branch: ^(?!stable)
    voting: false

  - name: gate-ec2-api-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-functional-neutron-dsvm-gceapi
    voting: false

  - name: gate-functional-nova-network-dsvm-gceapi
    voting: false

  - name: ec2-api-rally-dsvm-fakevirt
    voting: false

  - name: ec2-api-functional-neutron-dsvm-full
    voting: false

  - name: gate-functional-dsvm-magnum-api
    branch: ^(?!stable/kilo).*$

  - name: gate-functional-dsvm-magnum-k8s
    branch: ^(?!stable/kilo).*$

  - name: gate-functional-dsvm-magnum-swarm
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-functional-dsvm-magnum-mesos
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: gate-tempest-dsvm-centos7
    voting: false

  - name: gate-tempest-dsvm-multinode-full
    voting: false

  - name: gate-tempest-dsvm-multinode-live-migration
    branch: ^(?!stable/(kilo|liberty)).*$
    skip-if:
      - project: ^openstack/nova$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*$
          - ^api-guide/.*$
          - ^nova/tests/unit/.*$
          - ^nova/tests/functional/.*$
          - ^nova/tests/.*\.py$
          - ^nova/hacking/.*$
          - ^releasenotes/.*$
          - ^tests-py3.txt$
          - ^tools/.*$
          - ^tox.ini$
    voting: false

  - name: gate-tempest-dsvm-neutron-multinode-full
    voting: false

  - name: gate-tempest-dsvm-neutron-dvr-multinode-full
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-tempest-dsvm-neutron-ovs-native
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-tempest-dsvm-neutron-dvr-ovs-native
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-networking-midonet-python34
    branch: ^(?!stable/kilo).*$

  - name: ^gate-tempest-dsvm-networking-midonet-v1
    voting: false

  - name: ^gate-tempest-dsvm-networking-midonet-v2
    voting: false

  - name: ^gate-tempest-dsvm-networking-midonet-ml2
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-networking-midonet-v2-dsvm-rally-nv
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: ^gate-tempest-dsvm-networking-odl-(lithium-snapshot|beryllium-snapshot)
    branch: ^(?!stable/(icehouse|juno|kilo)).*$
    voting: false

  - name: gate-install-dsvm-networking-bgpvpn
    branch: ^(?!stable/kilo).*$

  - name: gate-networking-odl-python34
    branch: ^(?!stable/(icehouse|juno|kilo)).*$

  - name: gate-tempest-dsvm-networking-onos
    voting: false

  - name: ^gate-tempest-dsvm-dragonflow
    branch: ^(?!stable/(kilo)).*$
    voting: false

  - name: gate-dragonflow-dsvm-rally-nv
    branch: ^(?!stable/(kilo)).*$

  - name: gate-dragonflow-dsvm-fullstack-nv
    branch: ^(?!stable/(kilo)).*$

  - name: gate-dragonflow-python34
    voting: false

  - name: ^gate-neutron-fwaas-dsvm-functional$
    voting: false

  - name: ^gate-neutron-fwaas-python34$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv1-dsvm-api$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-minimal$
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: ^gate-neutron-lbaasv2-dsvm-healthmonitor$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-listener$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-loadbalancer$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-member$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-pool$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-neutron-lbaasv2-dsvm-scenario$
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: ^gate-neutron-lbaas-python34$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-group-based-policy-dsvm-functional$
    voting: false

  - name: ^gate-group-based-policy-dsvm-rally$
    voting: false

  - name: ^gate-functional-dsvm-astara.*$
    branch: ^(?!stable/(?:juno|kilo)).*$

# For Gerrit ver 2.8.x and later (using buck)
  - name: ^.*gerrit.*buck$
    branch: ^openstack/(?!2\.4).*$

  - name: ^gate-tempest-dsvm-neutron-src-.*-liberty$
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-dsvm-functional-qpid
    branch: ^stable/(kilo|liberty)$

  - name: gate-oslo.messaging-dsvm-functional-pika
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-dsvm-functional-zeromq
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-oslo.log-src-grenade-dsvm
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-src-grenade-dsvm
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-src-grenade-dsvm-multinode
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.versionedobjects-src-grenade-dsvm-multinode
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-rally-dsvm-cinder
    voting: false

  - name: gate-cinder-dsvm-apache
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: ^gate-cinder-pylint(-constraints)?$
    voting: false

  - name: gate-cinderclient-dsvm-functional
    voting: false

  - name: dev-zuul-coverage
    voting: false

  - name: jenkins-job-builder-compare-xml
    voting: false
    failure-message: WARNING XML output has changed.
    success-message: XML output is unchanged.

  - name: gate-jenkins-job-builder-tox-docs-linkcheck
    voting: false
    failure-message: WARNING broken links in docs

  - name: gate-project-config-compare-xml
    voting: false
    failure-message: Jenkins XML output has changed.
    success-message: Jenkins XML output is unchanged.
    files:
      - 'jenkins/jobs/.*'
      - 'tools/run-compare-clonemap.yaml'
      - 'tools/run-compare-xml.sh'

  - name: gate-dsvm-nodepool
    voting: false

  - name: gate-dsvm-nodepool-src-shade
    voting: false

  - name: gate-bashate-devstack
    voting: false

  - name: gate-project-config-irc-access
    files:
      - 'accessbot/channels.yaml'
      - 'gerritbot/channels.yaml'
      - 'tools/check_channels_yaml.sh'
      - 'tools/normalize_channels_yaml.py'
      - 'tools/projectconfig_yamllib.py'
      - 'tox.ini'

  - name: gate-project-config-jenkins-project
    files:
      - 'jenkins/jobs/projects.yaml'
      - 'tools/jenkins-projects-checks.py'
      - 'tox.ini'

  - name: gate-project-config-linters
    files:
      - '^.*\.sh$'
      - '^.*\.py$'
      - 'test-requirements.txt'
      - 'tox.ini'

  - name: gate-infra-docs-index
    files:
      - 'docs-site/.*'
      - 'tox.ini'

  - name: gate-generate-specs-site
    files:
      - 'specs/.*'
      - 'tox.ini'

  - name: gate-project-config-grafyaml
    files:
      - '^grafana/.*$'
      - 'tox.ini'

  - name: gate-project-config-dib
    files:
      - '^nodepool/elements/.*$'
      - 'tox.ini'

  - name: gate-project-config-gerrit
    files:
      - '^gerrit/acls/.*$'
      - 'tools/check_valid_gerrit_config.sh'
      - 'tox.ini'

  - name: gate-project-config-nodepool
    files:
      - '^nodepool/nodepool.yaml'
      - 'tox.ini'

  - name: gate-project-config-projects-yaml
    files:
      - 'check_valid_gerrit_projects.py'
      - 'gerrit/projects.yaml'
      - 'tools/check_projects_yaml_alphabetized.sh'
      - 'tox.ini'

  - name: gate-ironicclient-dsvm-functional
    voting: false

  - name: gate-tripleo-ci-f22-containers
    voting: false

  - name: ^gate-.*-tox-doc-publish-checkbuild$
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/publish-docs/

  - name: ^gate-.*-tox-checklang$
    # Only run job if at least one po or pot file was changed
    files:
      - '^.*\.po$'
      - '^.*\.pot$'

  - name: ^gate-.*-tox-checklinks$
    branch: master
    voting: false
    files:
      - '^.*\.xml$'

  - name: ^gate-.*-tox-checksyntax$
    files:
      - '^.*\.ent$'
      - '^.*\.po$'
      - '^.*\.pot$'
      - '^.*\.wadl'
      - '^.*\.xml$'

  - name: ^gate-.*-docs(-constraints)?$
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/doc/build/html/

  - name: gate-compute-api-guide
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/api-guide/build/html/
    voting: false
    branch: ^(?!stable/(kilo|liberty)).*$
    files:
      - '^tox.ini$'
      - '^api-guide/.*'

  - name: ^gate-.*-js-draft
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/dist/

  - name: ^.*-npm-publish-draft$
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/dist/

  - name: infra-publications-publish
    branch: ^(?!master).*$

  - name: ^gate-.*-requirements$
    failure-message: Incompatible requirement found; see http://docs.openstack.org/developer/requirements/
    files:
      - '^tools/.*-requires$'
      - '^.*requirements.txt$'
      - '^.*requirements-py[2,3].txt$'

  - name: gate-app-catalog-python34
    voting: false

  - name: barbican-coverage
    voting: false

  - name: designate-coverage
    voting: false

  - name: manila-coverage
    voting: false

  - name: magnum-coverage
    voting: false

  - name: gate-python-barbicanclient-devstack-dsvm
    branch: ^(?!stable/kilo).*$

  - name: gate-python-barbicanclient-devstack-dsvm-oldstable
    branch: ^stable/kilo$

  - name: gate-barbican-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-barbican-devstack-dsvm
    branch: ^(?!stable/kilo).*$

  - name: gate-barbican-devstack-dsvm-oldstable
    branch: ^stable/kilo$

  - name: gate-barbican-dogtag-devstack-dsvm-f23
    voting: false
    branch: ^(?!stable/kilo).*$

  - name: gate-barbican-dogtag-devstack-dsvm-f23-oldstable
    voting: false
    branch: ^stable/kilo$

  - name: gate-barbican-tox-bandit
    voting: false

  - name: gate-designate-python34
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-designate-tox-bandit
    branch: master
    voting: false

  - name: gate-congress-python34
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: gate-congress-dsvm-api
    branch: ^(?!stable/kilo).*$

  - name: gate-congress-new-arch-devstack
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  - name: gate-congress-tox-new_arch
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  - name: gate-cue-python34
    voting: false

  - name: gate-rally-dsvm-cue-rabbitmq
    voting: false

  - name: gate-hacking-integration-nova
    voting: false

  - name: gate-elastic-recheck-tox-queries
    voting: false

  - name: gate-ironic-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-sahara-pylint
    voting: false

  - name: ^gate-sahara-buildimages.*$
    branch: ^master$
    voting: false

  - name: ^gate-sahara-extra-artifacts$
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: sahara-coverage
    voting: false

  - name: gate-sahara-tox-bandit
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-sahara-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-sahara-dashboard-dsvm-integration
    branch: ^(?!stable/(icehouse)).*$
    voting: false

  - name: ^gate-sahara-dsvm-scenario.*-heat$
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: ^gate-sahara-dsvm-scenario.*-nv$
    branch: ^stable/liberty$

  - name: gate-kite-python34
    voting: false

  - name: gate-keystone-tox-bandit
    branch: ^stable/liberty$

  - name: gate-keystone-tox-legacy_drivers
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: keystone-propose-config-updates
    branch: ^(?!stable/kilo).*$

  - name: gate-tempest-dsvm-keystone-eventlet-full
    voting: false

  - name: check-osc-plugins
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  - name: gate-keystonemiddleware-tox-bandit
    branch: ^stable/liberty$

  - name: gate-python-keystoneclient-tox-bandit
    branch: ^stable/liberty$

  - name: gate-rally-dsvm-keystone
    branch: ^master$
    voting: false

  - name: gate-rally-dsvm-glance
    voting: false

  - name: gate-python-magnumclient-tox-bandit
    voting: false

  - name: gate-python-troveclient-pypy
    voting: false

  - name: gate-rally-dsvm-mistral-task
    voting: false

  # python3 support was fully implemented only in mitaka
  - name: gate-mistral-python34
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$

  - name: gate-mistral-devstack-dsvm
    voting: false

  - name: gate-python-mistralclient-devstack-dsvm
    voting: false

  - name: gate-mistral-dashboard-python34
    voting: false

  - name: gate-mistral-extra-python34
    voting: false

  - name: gate-mistral-tox-unit-postgresql
    voting: false

  - name: gate-mistral-docker-buildimage
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$
    voting: false

  - name: python-jenkins-coverage
    voting: false

  - name: gate-python-muranoclient-python34
    # python3 support was implemented in mitaka
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$

  - name: gate-murano-requirements
    # disable job in kilo/juno because of requirements doesn't match global.
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: gate-murano-devstack-dsvm
    branch: ^(stable/(?:kilo|liberty)).*$

  - name: gate-rally-dsvm-murano-task
    branch: ^(?!stable/juno).*$
    voting: false

  - name: gate-murano-congress-devstack-dsvm
    branch: ^(?!stable/juno).*$
    voting: false

  - name: gate-tempest-dsvm-murano-cfapi
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$
    voting: false

  - name: gate-tempest-dsvm-murano-api
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$

  - name: gate-murano-pylint
    branch: ^(?!stable/juno).*$
    voting: false

  - name: gate-murano-dashboard-npm-run-lint
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: gate-python-muranoclient-requirements
    # disable job in kilo/juno because of requirements doesn't match global.
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: ^gate-muranoclient-dsvm-functional$
    # disable job in kilo/juno. It was designed during and for liberty
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: gate-murano-dashboard-requirements
    # disable job in kilo/juno because of requirements doesn't match global.
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: murano-coverage
    voting: false

  - name: gate-networking-cisco-python34
    branch: ^(?!stable/(?:juno|kilo)).*$

  - name: gate-heat-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-horizon-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-oslo.db-tox-mysql-python
    branch: ^(?!stable/kilo).*$

  - name: gate-oslo.vmware-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-oslo.messaging-python34
    branch: ^(?!stable/kilo).*$
    # TODO(dhellmann): Remove this when bug 1367907 is fixed and
    # Ubuntu's version of python no longer dumps core on us.
    voting: false

  - name: gate-oslo.rootwrap-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-oslo.vmware-tox-bandit
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-solum-infra-guestagent-python34
    voting: false

  - name: gate-solum-infra-guestagent-pypy
    voting: false

  - name: gate-solum-pypy
    voting: false

  - name: gate-solum-requirements
    voting: false

  - name: gate-solum-devstack-dsvm-centos7
    voting: false

  - name: gate-reviewstats-python34
    voting: false

  - name: gate-refstack-python34
    voting: false

  - name: gate-dox-python34
    voting: false

  - name: ^gate-sqlalchemy-migrate-devstack-dsvm$
    voting: false

  - name: gate-sqlalchemy-migrate-pep8
    voting: false

  - name: gate-manila-pylint
    voting: false

  - name: gate-manila-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-manila-buildimage-lxd
    voting: false

  - name: gate-manila-tempest-dsvm-neutron-postgres
    voting: false

  - name: gate-manila-tempest-dsvm-neutron-no-share-servers-multibackend
    voting: false

  - name: gate-manila-tempest-dsvm-postgres-zfsonlinux-multibackend
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-manila-tempest-dsvm-neutron-postgres-lvm-multibackend
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-manila-tempest-dsvm-neutron-postgres-lxd-multibackend
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-manila-tempest-dsvm-neutron-scenario-multibackend
    voting: false

  - name: gate-manila-tempest-dsvm-glusterfs
    voting: false

  - name: gate-manila-tempest-dsvm-glusterfs-native
    voting: false

  - name: gate-manila-tempest-dsvm-cephfs-native
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-tempest-dsvm-full-amqp1
    voting: false

  - name: gate-oslo.messaging-src-dsvm-full-amqp1-centos7
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-tempest-dsvm-full-zmq
    voting: false

  - name: gate-oslo.messaging-src-dsvm-full-zmq
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-src-dsvm-full-pika
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-telemetry-dsvm-integration-zmq
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-oslo.messaging-telemetry-dsvm-integration-pika
    branch: ^(?!stable/(?:kilo|liberty)).*$
    voting: false

  - name: gate-manila-tempest-dsvm-hdfs
    voting: false

  - name: gate-rally-dsvm-manila-multibackend
    voting: false

  - name: gate-rally-dsvm-manila-multibackend-no-ss
    voting: false

  - name: gate-blazar-devstack-dsvm
    voting: false

  - name: gate-blazar-pylint
    voting: false

  - name: gate-storyboard-js-integration
    voting: false

  - name: gate-tempest-dsvm-docker
    voting: false

  - name: gate-tempest-dsvm-docker-centos7
    voting: false

  - name: gate-tempest-dsvm-neutron-dvr
    branch: ^(?!stable/kilo).*$

  - name: gate-neutron-dsvm-fullstack
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-tacker-dsvm-functional
    # disable job in kilo because func tests are not supported in that branch
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-tempest-dsvm-neutron-ipv6only
    branch: ^master$
    voting: false

  - name: gate-tempest-dsvm-neutron-serviceipv6
    branch: ^master$
    voting: false

  - name: gate-trove-buildimage-mysql
    voting: false

  - name: gate-trove-buildimage-mongodb
    voting: false

  - name: gate-trove-buildimage-percona
    voting: false

  - name: gate-trove-functional-dsvm-mongodb
    voting: false

  - name: gate-trove-functional-dsvm-percona
    voting: false

  - name: gate-anchor-tox-bandit
    branch: master
    voting: false

  - name: gate-castellan-dsvm-functional
    voting: false

  # Run trove checkbuild and checklinks only for changes to files in directory
  # apidocs/ .
  - name: gate-trove-tox-doc-publish-checkbuild
    files:
      - '^apidocs/.*$'

  - name: gate-trove-tox-checklinks
    files:
      - '^apidocs/.*$'

  - name: gate-tempest-dsvm-full-lio
    voting: false

  - name: gate-horizon-jshint
    branch: ^stable/kilo

  - name: ^gate-horizon-npm-run-.*$
    branch: ^(?!stable/kilo).*$

  - name: gate-aodh-dsvm-functional-hbase
    branch: ^(?!stable/liberty).*$

  - name: ^gate-telemetry-dsvm-integration-.*$
    branch: ^(?!stable/kilo).*$

  - name: gate-horizon-tox-py27dj18
    branch: ^(?!stable/kilo).*$

  # TODO(robcresswell): Make voting once tests are passing reliably
  - name: gate-horizon-tox-py27dj19
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  - name: gate-django_openstack_auth-tox-py27dj18
    branch: ^(?!stable/(kilo|liberty)).*$

  # TODO(robcresswell): Make voting once tests are passing reliably
  - name: gate-django_openstack_auth-tox-py27dj19
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  # TODO(doug-fish): Make voting once tests are proven to pass reliably
  - name: gate-neutron-lbaas-dashboard-npm-run-lint
    voting: false

  # TODO(doug-fish): Make voting once tests are proven to pass reliably
  - name: gate-neutron-lbaas-dashboard-npm-run-test
    voting: false

  - name: gate-tempest-dsvm-ceilometer-mongodb-full
    voting: false

  - name: gate-horizon-selenium-headless
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: gate-horizon-dsvm-integration
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: gate-swiftclient-dsvm-functional
    branch: ^(?!stable/kilo).*$

  - name: ^gate-glanceclient-dsvm-functional
    branch: ^(?!stable/kilo).*$

  # TODO(kragniz): Enable voting for each driver when the jobs are
  # functioning for that driver
  - name: ^gate-glance_store-dsvm-functional.*$
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-glance_store-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-tempest-dsvm-full-ceph-src-glance_store
    # NOTE(flaper87): Disable job in Kilo until we fix the gate.
    branch: ^(?!stable/kilo).*$

  - name: gate-glance-tox-bandit
    branch: ^(?!stable/(kilo|liberty)).*$
    voting: false

  - name: gate-kolla-dsvm-build-centos-binary
    voting: false

  - name: gate-kolla-dsvm-deploy-centos-binary
    voting: false

  - name: gate-kolla-dsvm-build-centos-source
    voting: false

  - name: gate-kolla-dsvm-deploy-centos-source
    voting: false

  - name: gate-kolla-dsvm-build-ubuntu-source
    voting: false

  - name: gate-kolla-dsvm-deploy-ubuntu-source
    voting: false

  - name: ^(gate-)?devstack-publish-docs
    branch: ^master

  # beaker tests have been introduced after Juno release
  - name: ^gate-puppet-.*-puppet-beaker-rspec-dsvm-.*$
    branch: ^(?!stable/(icehouse|juno)).*$

  # except for puppet-openstack_extras beaker that have been introduced after Kilo
  - name: ^gate-puppet-openstack_extras-puppet-beaker-rspec-dsvm-.*$
    branch: ^(?!stable/(icehouse|juno|kilo)).*$

  # Aims to break when a new version of Puppet is released
  # For now, run the jobs only on master so if the job starts to
  # break due to Puppet new major release, we will see which branch
  # we need to test.
  - name: ^gate-puppet-.*-puppet-unit-latest-dsvm-.*$
    branch: ^(?!stable/(icehouse|juno|kilo)).*$
    voting: false

  # no need to run the jobs for doc / releasenotes patches
  - name: ^gate-puppet-.*-dsvm-.*$
    skip-if:
      - project: ^openstack/puppet-.*$
        all-files-match-any:
          - ^.*\.md$
          - ^releasenotes/.*$

  - name: ^gate-puppet-((?!swift).)*-puppet-syntax-.*$
    branch: ^(?!stable/(icehouse)).*$

  # puppet-swift can never be future parser compatible without breaking the API
  - name: ^gate-puppet-swift-puppet-syntax-4-dsvm-.*$
    branch: ^(?!stable/(icehouse|juno)).*$

  # these compat jobs only work on liberty+
  - name: ^gate-tempest-dsvm-nova-v20
    branch: ^(?!stable/kilo).*$

  - name: ^gate-tempest-dsvm-lxc
    branch: ^(?!stable/(kilo|liberty)).*$

  # TODO(yamamoto): Revisit when Neutron driver API become more stable.
  - name: gate-networking-ofagent-python27
    voting: false

  - name: gate-networking-ofagent-python34
    branch: ^(?!stable/kilo).*$
    voting: false

  - name: gate-tempest-dsvm-networking-ofagent
    voting: false

  - name: gate-sdk-dsvm-functional
    voting: false

  - name: ^gate-fuel-agent-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-dev-tools-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-devops-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-library-puppet-syntax.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-library-puppet-unit.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-library-puppet-syntax-4-dsvm-centos7
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0|8\.0)).*$

  - name: ^gate-fuel-library-puppet-unit-4\.0-dsvm-centos7
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$
    voting: false

  - name: ^gate-fuel-mirror-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: gate-fuel-ostf-python27
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-plugins-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-stats-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: ^gate-fuel-upgrade-python.*$
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: gate-fuel-web-python27
    branch: ^(?!stable/(?:5\.0|5\.1|6\.0|6\.1|7\.0)).*$

  - name: gate-ceilometer-dsvm-functional-mongodb
    branch: ^(?!stable/kilo).*$

  - name: gate-ceilometer-dsvm-functional-mysql
    branch: ^(?!stable/kilo).*$

  - name: gate-ceilometer-dsvm-functional-postgresql
    branch: ^(?!stable/kilo).*$

  # Freezer specific gate settings
  - name: ^gate-freezer(-api|-web-ui)?-docs.*$
    branch: ^(?!stable/(kilo|liberty)).*$

  - name: ^gate-freezer-devstack-dsvm.*$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-freezer(-api|-web-ui)?-python34.*$
    branch: ^(?!stable/kilo).*$

  # Python 3.4 jobs
  - name: ^gate-cinder-python34(-constraints)?$
    branch: ^(?!stable/kilo).*$

  - name: gate-compute-hyperv-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-keystone-python34
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-swift-python34
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-swift-tox-func-in-process-fast-post
    voting: false

  - name: gate-nova-python34
    branch: ^(?!stable/kilo).*$

  - name: ^gate-glance-python34(-constraints)?$
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-murano-python34
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$
    voting: false

  - name: gate-murano-dashboard-python34
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$

  - name: gate-murano-agent-python34
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$
    voting: false

  - name: gate-networking-hyperv-python34
    branch: ^(?!stable/kilo).*$

  - name: gate-kuryr-python34
    voting: false

  # skip all openstack-ansible jobs except the releasenotes/docs
  # jobs for rst/doc/releasenotes files
  - name: ^gate-openstack-ansible-(?!(docs|releasenotes)).*$
    skip-if:
      - project: ^openstack/openstack-ansible$
        all-files-match-any:
          - ^.*\.rst$
          - ^doc/.*
          - ^releasenotes/.*

  # skip the new ubuntu-trusty based commit check for the juno
  # branch as it will never work
  - name: ^gate-openstack-ansible-commit.*$
    branch: ^(?!juno).*$

  # skip openstack-ansible-docs gate jobs for the juno branch
  # documentation was only introduced in kilo
  - name: ^gate-openstack-ansible-docs.*$
    branch: ^(?!juno).*$

  # skip openstack-ansible-docs post jobs for the juno branch
  # documentation was only introduced in kilo
  - name: ^openstack-ansible-docs.*$
    branch: ^(?!juno).*$

  # lint compliance was only introduced in kilo
  # this applies to all openstack-ansible repositories
  - name: ^gate-openstack-ansible.*-linters$
    branch: ^(?!juno).*$

  # Ignore requirements on the keystoneclient/keystoneauth integration branch
  - name: gate-python-keystoneclient-requirements
    branch: ^(?!feature/keystoneauth_integration).*$

  # Ceilometerclient added functional testing in master only
  - name: ^gate-ceilometerclient-dsvm-functional$
    branch: ^(?!stable/kilo).*$

  # Saharaclient python 3.4 tests don't run on kilo or earlier
  - name: ^gate-python-saharaclient-python34$
    branch: ^(?!stable/kilo).*$

  # Saharaclient functional test don't run on kilo or earlier
  - name: ^gate-saharaclient-dsvm-functional$
    branch: ^(?!stable/kilo).*$

  # Only run the unit cross tests for cliff against master.
  - name: ^gate-cliff-tox-(openstackclient|neutronclient)-tip$
    branch: ^master$

  # Skip Kilo and Liberty for
  # neutronclient-test-dsvm-functional-adv-svcs
  - name: ^gate-neutronclient-test-dsvm-functional-adv-svcs$
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: ^gate-ironic-inspector-dsvm.*$
    branch: ^(?!stable/1).*$

  - name: gate-senlin-dsvm-functional
    voting: false

  - name: gate-scalpels-dsvm-neutron-devstack-trusty
    voting: false

  - name: gate-scalpels-dsvm-neutron-fedora-23
    voting: false

  - name: gate-python-cueclient-python34
    voting: false

  - name: gate-tempest-dsvm-neutron-full-ssh
    voting: false

  - name: gate-tempest-dsvm-neutron-plus
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: ^gate-.*-releasenotes$
    success-pattern: http://docs-draft.openstack.org/{build.parameters[LOG_PATH]}/releasenotes/build/html/
    branch: ^(?!stable/(?:juno|kilo)).*$
    files:
      - '^releasenotes/.*'
      - '^tox.ini'
      - '^.*requirements.txt$'

  # Some projects do not have releasenotes for liberty.
  - name: ^gate-(keystoneauth|keystonemiddleware|python-ironicclient|python-keystoneclient|python-openstackclient|os-client-config|puppet-.*)-releasenotes$
    branch: ^(?!stable/(?:juno|kilo|liberty)).*$

  # skip gate-openstack-ansible-releasenotes jobs for juno & kilo branches
  - name: ^gate-openstack-ansible-releasenotes$
    branch: ^(?!juno|kilo).*$

    # Post job is run on liberty and newer branches only
  - name: ^(?!gate).*-releasenotes$
    branch: ^(?!stable/(?:juno|kilo)).*$

  # Skip openstack-ansible-releasenotes post jobs for juno & kilo branches
  - name: ^openstack-ansible-releasenotes$
    branch: ^(?!juno|kilo).*$

  # Constraints Jobs
  - name: ^.*-constraints$
    branch: ^(?!stable/kilo).*$

  - name: gate-neutron-python27
    branch: ^(?:stable/kilo).*$

  - name: gate-neutron-pep8
    branch: ^(?:stable/kilo).*$

  - name: gate-neutron-docs
    branch: ^(?:stable/kilo).*$

  # Only run non-constraints jobs on Kilo
  - name: ^gate-neutron-vpnaas-(docs|pep8|python27)$
    branch: ^(?:stable/kilo).*$

  # Don't run python34 on Kilo
  - name: ^gate-neutron-vpnaas-python34$
    branch: ^(?!stable/kilo).*$

  - name: ^gate-cinder-.*-constraints$
    voting: false

  - name: ^gate-glance-.*-constraints$
    voting: false
  # End Constraints Jobs

  - name: gate-python-fuelclient-python34
    branch: ^(?!stable/(?:6\.1|7.0)).*$

  - name: gate-python-fuelclient-python27
    branch: ^(?!stable/(?:6\.1)).*$

  - name: gate-monasca-api-java-tempest-dsvm
    voting: false

  - name: gate-monasca-persister-tempest-dsvm
    voting: false

  - name: gate-monasca-persister-java-tempest-dsvm
    voting: false

  - name: watcher-coverage
    voting: false

  - name: python-watcherclient-coverage
    voting: false

  - name: gate-tooz-tox-py27-consul
    voting: false
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-tooz-tox-py34-consul
    voting: false
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-tooz-tox-py34-etcd
    branch: ^(?!stable/(?:kilo|liberty)).*$

  - name: gate-tooz-tox-py27-etcd
    branch: ^(?!stable/(?:kilo|liberty)).*$

  # NOTE(sigmavirus24): This is presently failing but will be made voting as
  # soon as sahara updates its configuration or fixes its issues.
  - name: gate-bandit-integration-sahara
    voting: false

    # Requirements project publishes documents from master only.
  - name: ^(?:gate-)requirements-docs$
    branch: master

########################################################################
# The project list is sorted alphabetically.
########################################################################

projects:

  - name: openstack-dev/bashate
    template:
      - name: merge-check
      - name: publish-to-pypi
      - name: python-jobs
    check:
      - gate-bashate-devstack

  - name: openstack-dev/ci-sandbox
    template:
      - name: merge-check
      - name: noop-jobs

